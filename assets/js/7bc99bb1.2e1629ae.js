"use strict";(self.webpackChunkkahunakv_docs=self.webpackChunkkahunakv_docs||[]).push([[6686],{4853:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"scripts/commands/eextend","title":"Command: Eextends","description":"Allows to extend a key/value expiration for ephemeral keys:","source":"@site/docs/scripts/commands/eextend.md","sourceDirName":"scripts/commands","slug":"/scripts/commands/eextend","permalink":"/docs/scripts/commands/eextend","draft":false,"unlisted":false,"editUrl":"https://github.com/kahunakv/kahunakv.github.io/tree/main/docs/scripts/commands/eextend.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Command: Extends","permalink":"/docs/scripts/commands/extend"},"next":{"title":"Command: Delete","permalink":"/docs/scripts/commands/delete"}}');var r=t(4848),i=t(8453);const a={},o="Command: Eextends",d={},c=[{value:"Notes",id:"notes",level:2}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"command-eextends",children:"Command: Eextends"})}),"\n",(0,r.jsx)(s.p,{children:"Allows to extend a key/value expiration for ephemeral keys:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-swift",children:"eset `session_token_user1` 'a69eacd410aa'\nr0 set 4ms\n\neextend `session_token_user1` 3600000\nr0 set 3ms\n"})}),"\n",(0,r.jsx)(s.p,{children:"In the previous example, the key is set to expire in 3'600.000 ms (1 hour) from the moment the extend command is executed."}),"\n",(0,r.jsx)(s.p,{children:"An expiration value of zero means that the key never expires:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-swift",children:"eextend `session_token_user1` 0\nr0 set 7ms\n"})}),"\n",(0,r.jsxs)(s.p,{children:["For ",(0,r.jsx)(s.strong,{children:"ephemeral keys"}),", even if they are set to ",(0,r.jsx)(s.strong,{children:"never expire"}),", they can still be ",(0,r.jsx)(s.strong,{children:"evicted at any time"})," if the server is under ",(0,r.jsx)(s.strong,{children:"memory pressure"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["This is because ephemeral durability relies solely on ",(0,r.jsx)(s.strong,{children:"in-memory storage"}),", and to ensure system stability, Kahuna may reclaim memory by evicting keys that are not recently used\u2014regardless of their expiration setting."]}),"\n",(0,r.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(s.p,{children:["For keys with a long expiration time (several hours or days), it's recommended to use ",(0,r.jsx)(s.a,{href:"/docs/architecture/durability-levels",children:"persistent durability"}),". This ensures that the key is not lost in the event of a node failure, as the data is safely stored on disk and replicated across the cluster."]}),"\n",(0,r.jsx)(s.p,{children:"Persistent durability provides high availability and fault tolerance, making it ideal for use cases such as long-term sessions, configuration data, or delayed tasks."}),"\n",(0,r.jsxs)(s.p,{children:["Internally, expiration timestamps are managed using the ",(0,r.jsx)(s.a,{href:"/docs/architecture/hybrid-logical-clocks",children:"Hybrid Logical Clock (HLC)"}),", which helps avoid issues caused by clock drift between nodes. This ensures that expiration times are consistent and causally ordered across the cluster, even in distributed environments where system clocks may differ slightly."]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>o});var n=t(6540);const r={},i=n.createContext(r);function a(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);